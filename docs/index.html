<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>tceper: R interface to the TCE-PE Open Data API • tceper</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><link href="extra.css" rel="stylesheet">
<meta property="og:title" content="tceper: R interface to the TCE-PE Open Data API">
<meta name="description" content="Access public data on revenues, expenditures, procurement, contracts, public works, legal processes and personnel from the Pernambuco Court of Accounts (TCE-PE) directly from R.
">
<meta property="og:description" content="Access public data on revenues, expenditures, procurement, contracts, public works, legal processes and personnel from the Pernambuco Court of Accounts (TCE-PE) directly from R.
">
<meta property="og:image" content="https://strategicprojects.github.io/tceper/logo.svg">
</head>
<body>pkgdown/extra.css

  

  
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">tceper</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="articles/getting-started.html">Getting started</a></li>
    <li><a class="dropdown-item" href="articles/endpoints-reference.html">API endpoints reference</a></li>
    <li><a class="dropdown-item" href="articles/exploring-endpoints.html">Exploring endpoints, parameters, and fields</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/StrategicProjects/tceper/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.svg" class="logo" alt=""><h1 id="tceper-">tceper 
<a class="anchor" aria-label="anchor" href="#tceper-"></a>
</h1>
</div>
<!-- badges: start -->

<p><code>tceper</code> is an R client for the <a href="https://www.tce.pe.gov.br/" class="external-link">TCE-PE</a> (Tribunal de Contas do Estado de Pernambuco) Open Data API.</p>
<p>The package wraps <strong>71 API endpoints</strong> into user-friendly functions that accept <code>snake_case</code> parameter names and return tibbles. A built-in catalog lets you discover endpoints, inspect their input parameters and output fields — all without leaving R.</p>
<table class="table warning-banner"><tr>
<td>
⚠️ <strong class="warning-title">Warning</strong><br> The TCE-PE API (<code>sistemas.tce.pe.gov.br</code>) is <strong>geo-restricted</strong> and only accessible from Brazilian IP addresses. If you are outside Brazil, API queries will time out. The discovery functions <code><a href="reference/tce_catalog.html">tce_catalog()</a></code>, <code><a href="reference/tce_params.html">tce_params()</a></code> and <code><a href="reference/tce_fields.html">tce_fields()</a></code> work offline anywhere, as they read from the built-in catalog.
</td>
</tr></table>
<table class="table important-banner"><tr>
<td>
❕️ <strong class="important-title">Disclaimer</strong><br> This package acts as a wrapper for a Brazilian public API provided by the Tribunal de Contas do Estado de Pernambuco (TCE-PE), which is the institution responsible for the data. To maintain consistency with R package development standards, all wrapper functions are named in English. However, because the source API is natively in Portuguese, you will interact with Portuguese terms when passing arguments or parsing the responses. For example: you may use the function <code><a href="reference/tce_state_revenues.html">tce_state_revenues()</a></code>⁠, but you need to pass the parameters in Portuguese, such as <code>AnoReferencia = 2025</code>⁠. You can find the original list of endpoints and their respective parameters in the <a href="https://sistemas.tce.pe.gov.br/DadosAbertos/Exemplo!listar" class="external-link">official API documentation</a>.
</td>
</tr></table>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"StrategicProjects/tceper"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="quick-start">Quick start<a class="anchor" aria-label="anchor" href="#quick-start"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/StrategicProjects/tceper" class="external-link">tceper</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 1. Discover endpoints</span></span>
<span><span class="fu"><a href="reference/tce_catalog.html">tce_catalog</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/tce_catalog.html">tce_catalog</a></span><span class="op">(</span>search <span class="op">=</span> <span class="st">"contrat"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 2. Inspect parameters and output fields</span></span>
<span><span class="fu"><a href="reference/tce_params.html">tce_params</a></span><span class="op">(</span><span class="st">"Contratos"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/tce_fields.html">tce_fields</a></span><span class="op">(</span><span class="st">"Contratos"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># 3. Query (use snake_case or the original API names)</span></span>
<span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>codigo_efisco_ug <span class="op">=</span> <span class="st">"510101"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="explore-the-api">Explore the API<a class="anchor" aria-label="anchor" href="#explore-the-api"></a>
</h2>
<p>Before querying any endpoint, you can explore the built-in catalog directly from R.</p>
<div class="section level3">
<h3 id="id_1-browse-the-catalog">1. Browse the catalog<a class="anchor" aria-label="anchor" href="#id_1-browse-the-catalog"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/tce_catalog.html">tce_catalog</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 71 × 4</span></span>
<span><span class="co">#&gt;    endpoint               group          title                         url</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;                  &lt;chr&gt;          &lt;chr&gt;                         &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 ReceitasEstaduais      Receitas       Receitas Estaduais            …</span></span>
<span><span class="co">#&gt;  2 ReceitasMunicipais     Receitas       Receitas Municipais           …</span></span>
<span><span class="co">#&gt;  …</span></span>
<span></span>
<span><span class="fu"><a href="reference/tce_catalog.html">tce_catalog</a></span><span class="op">(</span>search <span class="op">=</span> <span class="st">"licit"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_2-inspect-input-parameters">2. Inspect input parameters<a class="anchor" aria-label="anchor" href="#id_2-inspect-input-parameters"></a>
</h3>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/tce_params.html">tce_params</a></span><span class="op">(</span><span class="st">"Contratos"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ── Contratos has 23 parameters: ──────────────────────────────</span></span>
<span><span class="co">#&gt; ℹ unidade_gestora, unidade_orcamentaria, esfera, …</span></span>
<span><span class="co">#&gt; ── Dictionary ────────────────────────────────────────────────</span></span>
<span><span class="co">#&gt; # A tibble: 23 × 5</span></span>
<span><span class="co">#&gt;    api_name      r_name          required type      description</span></span>
<span><span class="co">#&gt;    &lt;chr&gt;         &lt;chr&gt;           &lt;lgl&gt;    &lt;chr&gt;     &lt;chr&gt;</span></span>
<span><span class="co">#&gt;  1 UnidadeGesto… unidade_gestor… FALSE    character Unidade Gestora</span></span>
<span><span class="co">#&gt;  …</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_3-inspect-output-fields">3. Inspect output fields<a class="anchor" aria-label="anchor" href="#id_3-inspect-output-fields"></a>
</h3>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/tce_fields.html">tce_fields</a></span><span class="op">(</span><span class="st">"Contratos"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="id_4-query">4. Query<a class="anchor" aria-label="anchor" href="#id_4-query"></a>
</h3>
<p>Use <code>snake_case</code> names (from <code>r_name</code>) or the original API names — both work:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># These are equivalent:</span></span>
<span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>codigo_efisco_ug <span class="op">=</span> <span class="st">"510101"</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>CodigoEfiscoUG <span class="op">=</span> <span class="st">"510101"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Add more filters</span></span>
<span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>codigo_efisco_ug <span class="op">=</span> <span class="st">"510101"</span>, ano_contrato <span class="op">=</span> <span class="st">"2025"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="verbose-mode">Verbose mode<a class="anchor" aria-label="anchor" href="#verbose-mode"></a>
</h2>
<p>When <code>verbose = TRUE</code>, the package prints the final API URL and helper commands for inspecting the endpoint:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>codigo_efisco_ug <span class="op">=</span> <span class="st">"510101"</span>, verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; ℹ API URL: https://sistemas.tce.pe.gov.br/DadosAbertos/Contratos!json?CodigoEfiscoUG=510101</span></span>
<span><span class="co">#&gt; ℹ To inspect this endpoint:</span></span>
<span><span class="co">#&gt;     - Input parameters: tce_params("Contratos")</span></span>
<span><span class="co">#&gt;     - Output fields: tce_fields("Contratos")</span></span></code></pre></div>
<p>Enable globally:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>tceper.verbose <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="cache">Cache<a class="anchor" aria-label="anchor" href="#cache"></a>
</h2>
<p>All 71 wrapper functions cache results in memory, keyed by endpoint + parameters. Default TTL is 1 hour.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>codigo_efisco_ug <span class="op">=</span> <span class="st">"510101"</span><span class="op">)</span>       <span class="co"># hits the API</span></span>
<span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>codigo_efisco_ug <span class="op">=</span> <span class="st">"510101"</span><span class="op">)</span>       <span class="co"># cache hit (instant)</span></span>
<span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>codigo_efisco_ug <span class="op">=</span> <span class="st">"510102"</span><span class="op">)</span>       <span class="co"># different key → hits the API</span></span>
<span></span>
<span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>codigo_efisco_ug <span class="op">=</span> <span class="st">"510101"</span>, cache <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>  <span class="co"># force fresh</span></span>
<span></span>
<span><span class="fu"><a href="reference/tce_cache_info.html">tce_cache_info</a></span><span class="op">(</span><span class="op">)</span>    <span class="co"># inspect cached entries</span></span>
<span><span class="fu"><a href="reference/tce_cache_clear.html">tce_cache_clear</a></span><span class="op">(</span><span class="op">)</span>   <span class="co"># clear all</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="parameter-validation">Parameter validation<a class="anchor" aria-label="anchor" href="#parameter-validation"></a>
</h2>
<p>The package validates query parameters against the catalog. If you pass a parameter that doesn’t exist for that endpoint, it aborts with a helpful error listing the allowed parameters:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/tce_contracts.html">tce_contracts</a></span><span class="op">(</span>xyz <span class="op">=</span> <span class="st">"foo"</span><span class="op">)</span></span>
<span><span class="co">#&gt; ✖ Unknown query parameter(s) for endpoint Contratos: xyz</span></span>
<span><span class="co">#&gt; ℹ Allowed parameters:</span></span>
<span><span class="co">#&gt;   • unidade_gestora (UnidadeGestora)</span></span>
<span><span class="co">#&gt;   • codigo_efisco_ug (CodigoEfiscoUG)</span></span>
<span><span class="co">#&gt;   …</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="options">Options<a class="anchor" aria-label="anchor" href="#options"></a>
</h2>
<table class="table">
<thead><tr>
<th>Option</th>
<th>Default</th>
<th>Description</th>
</tr></thead>
<tbody>
<tr>
<td><code>tceper.verbose</code></td>
<td><code>FALSE</code></td>
<td>Print final API URL on every call</td>
</tr>
<tr>
<td><code>tceper.progress</code></td>
<td><code>TRUE</code></td>
<td>Show progress messages</td>
</tr>
<tr>
<td><code>tceper.cache_ttl</code></td>
<td><code>3600</code></td>
<td>Cache time-to-live in seconds</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>  tceper.verbose  <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  tceper.progress <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  tceper.cache_ttl <span class="op">=</span> <span class="fl">7200</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="api-limits">API limits<a class="anchor" aria-label="anchor" href="#api-limits"></a>
</h2>
<p>The API returns at most <strong>100,000 records</strong> per request. When this limit is reached, the package issues a warning. Use filters to narrow your query:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/tce_municipal_expenditures.html">tce_municipal_expenditures</a></span><span class="op">(</span></span>
<span>  codigo_municipio <span class="op">=</span> <span class="st">"P113"</span>,</span>
<span>  ano_referencia   <span class="op">=</span> <span class="st">"2025"</span></span>
<span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="direct-access">Direct access<a class="anchor" aria-label="anchor" href="#direct-access"></a>
</h2>
<p>If you prefer to pass API parameter names directly, use <code><a href="reference/tce_request.html">tce_request()</a></code>:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/tce_request.html">tce_request</a></span><span class="op">(</span><span class="st">"Contratos"</span>, CodigoEfiscoUG <span class="op">=</span> <span class="st">"510101"</span>, AnoContrato <span class="op">=</span> <span class="st">"2025"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/StrategicProjects/tceper/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/StrategicProjects/tceper/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing tceper</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Andre Leite <br><small class="roles"> Author, maintainer </small>   </li>
<li>Marcos Wasilew <br><small class="roles"> Author </small>   </li>
<li>Hugo Vasconcelos <br><small class="roles"> Author </small>   </li>
<li>Carlos Amorin <br><small class="roles"> Author </small>   </li>
<li>Diogo Bezerra <br><small class="roles"> Author </small>   </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/StrategicProjects/tceper" class="external-link"><img src="https://img.shields.io/badge/R--CMD--check-passing-brightgreen" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Andre Leite, Marcos Wasilew, Hugo Vasconcelos, Carlos Amorin, Diogo Bezerra.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  
</body>
</html>
